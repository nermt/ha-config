action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Uppdateringar
    card_mod:
      style:
        .: |
          :host .content {
            width: 100%;
          }
        hui-grid-card:
          $: |
            button-card:nth-child(2),
            button-card:nth-child(4) {
              margin: 0.6em 0 2.1em 0.8em;
            }
            button-card:nth-child(6) {
              margin: 0.6em 0 0.5em 0.8em;
            }
            #root {
              grid-gap: 0 !important;
              padding: var(--card-content-padding);
              width: max-content;
            }
    content:
      type: grid
      columns: 1
      square: false
      cards:                  
        - type: custom:button-card
          entity: sensor.current_version
          template: updater_hass

        - type: custom:button-card
          entity: sensor.hacs
          template: updater_hacs

        - type: custom:button-card
          entity: sensor.hacs
          name: Ã–ppna HACS
          icon: mdi:open-in-new
          styles:
            card:
              - width: max-content
              - filter: >
                  [[[
                    return `[[[
                      if (entity) {
                        return entity.state === '0'
                          ? 'opacity(30%)'
                          : 'drop-shadow(3px 3px 5px #00000050)';
                      }
                    ]]]`
                  ]]]
              - display: >
                  [[[
                    return `[[[
                      return entity && entity.state !== 'unknown'
                        ? 'flex'
                        : 'none';
                    ]]]`
                  ]]]
          template: >
            [[[
              return window.navigator.userAgent.match(/iPhone/i)
                ? 'hacs_navigate_ios'
                : 'hacs_iframe';
            ]]]
