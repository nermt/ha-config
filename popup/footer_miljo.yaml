action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Miljö
    card_mod:
      style:
        .: |
          @media screen and (min-width: 1200px) {
            :host .content {
              width: calc(385px + 385px + 385px);
              max-width: 90vw;
            }
          }
        layout-card:
          $grid-layout:
            $:
              hui-entities-card:
                $: |
                  .card-content {
                    padding: var(--card-content-padding);
                    padding-bottom: 0.8em;
                  }
                  ha-card {
                    border-right: 1.5px solid rgba(0, 0, 0, 0.2);
                    border-radius: 0;
                    transition: none;
                    letter-spacing: normal;
                  }
                  /* portrait */
                  @media screen and (max-width: 1200px) {
                    ha-card {
                      border-right: none;
                      border-bottom: 1.5px solid rgba(0, 0, 0, 0.2);
                    }
                  }
                $hui-horizontal-stack-card:
                  $: |
                    #root {
                      justify-content: space-evenly;
                      margin-top: 1.7em;
                      max-width: 82vw; /* iphonex */
                    }
    content:   
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        #default
        margin: 0
        grid-gap: var(--custom-layout-card-padding)
        grid-template-columns: repeat(3, 1fr) 0
        grid-template-rows: 0 repeat(2, fit-content(100%)) 0fr
        grid-template-areas: |
          ".  .     .     ."
          ".  ute   ute   ."
          ".  v-rum hons  ."
          ".  vind  kryp  ."
          ".  .     .     ."
        mediaquery:
          #phone
          "(max-width: 800px)":
            grid-gap: calc(var(--custom-layout-card-padding) * 1.7)
            grid-template-columns: 0 repeat(2, 1fr) 0
            grid-template-rows: 0 repeat(5, fit-content(100%)) 0fr
            grid-template-areas: |
              ".  .     .     ."
              ".  ute   ute   ."
              ".  v-rum hons  ."
              ".  vind  kryp  ."
              ".  .     .     ."
          #portrait
          "(max-width: 1200px)":
            grid-gap: var(--custom-layout-card-padding)
            grid-template-columns: repeat(3, 1fr) 0
            grid-template-rows: 0 repeat(3, fit-content(100%)) 0fr
            grid-template-areas: |
              ".  .     .     ."
              ".  ute   ute   ."
              ".  v-rum hons  ."
              ".  vind  kryp  ."
              ".  .     .     ."
      cards:

        - type: custom:button-card #extra_styles fix
          styles: {card: [display: none]}

        #################################################
        #                                               #
        #                    UTE                        #
        #                                               #
        #################################################
        - type: entities
          view_layout:
            grid-area: ute
          title: Ute
          show_header_toggle: false
          card_mod:
            class: header
          entities:
            - entity: sensor.netatmo_banedal_vardagsrum_utomhus_temperature
              name: Temperature

            - entity: sensor.netatmo_banedal_vardagsrum_utomhus_humidity
              name: Luftfuktighet

            - entity: sensor.netatmo_banedal_vardagsrum_regnmatare_rain_today
              name: Regn idag
              




        
        #################################################
        #                                               #
        #                    VARDAGSRUM                 #
        #                                               #
        #################################################
        - type: entities
          view_layout:
            grid-area: v-rum
          title: Vardagsrum
          state_color: true
          show_header_toggle: false
          card_mod:
            class: header
          entities:
            - entity: sensor.netatmo_banedal_vardagsrum_temperature
              name: Temperature

            - entity: sensor.netatmo_banedal_vardagsrum_humidity
              name: Luftfuktighet

        #################################################
        #                                               #
        #                    HÖNS                       #
        #                                               #
        #################################################
        - type: entities
          view_layout:
            grid-area: hons
          title: Höns
          state_color: true
          show_header_toggle: false
          card_mod:
            class: header
          entities:
            - entity: sensor.garage_temperatur_temperatur
              name: Temperature

            - entity: sensor.garage_temperatur_luftfuktighet
              name: Luftfuktighet

        #################################################
        #                                               #
        #                    VIND                       #
        #                                               #
        #################################################
        - type: entities
          view_layout:
            grid-area: vind
          title: Vind
          state_color: true
          show_header_toggle: false
          card_mod:
            class: header
          entities:
            - entity: sensor.vinden_temperatur_2
              name: Temperature

            - entity: sensor.vinden_luftfuktighet_2
              name: Luftfuktighet

            - entity: sensor.template_mould_text_vind
              name: Mögel


        #################################################
        #                                               #
        #                    KRYPGRUND                  #
        #                                               #
        #################################################
        - type: entities
          view_layout:
            grid-area: kryp
          title: Krypgrund
          state_color: true
          show_header_toggle: false
          card_mod:
            class: header
          entities:
            - entity: sensor.krypgrunden_temperatur
              name: Temperature

            - entity: sensor.krypgrunden_luftfuktighet
              name: Luftfuktighet

            - entity: sensor.template_mould_text_krypgrund
              name: Mögel